{"remainingRequest":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\src\\views\\Analysis.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\src\\views\\Analysis.vue","mtime":1747490827805},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\babel.config.js","mtime":1746756434702},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746972278158},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1746972279218},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746972278158},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1746972279591}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5zb21lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBbmFseXNpcycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3RJZDogbnVsbCwKICAgICAgcHJvZHVjdFVybDogJycsCiAgICAgIGNvbW1lbnRzOiBbXSwKICAgICAgYWxsY29tbWVudHM6IFtdLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHNjb3JlRmlsdGVyOiAnMCcsCiAgICAgIHNlYXJjaEtleXdvcmQ6ICcnLAogICAgICBrZXl3b3JkczogW10sCiAgICAgIGN1cnJlbnRMYW5nOiAnemgnLAogICAgICAvLyDor4TliIbnu5/orqEKICAgICAgYXZlcmFnZVNjb3JlOiAwLAogICAgICBzY29yZURpc3RyaWJ1dGlvbjogewogICAgICAgIDE6IDAsCiAgICAgICAgMjogMCwKICAgICAgICAzOiAwLAogICAgICAgIDQ6IDAsCiAgICAgICAgNTogMAogICAgICB9LAogICAgICBpc0FuYWx5emluZzogZmFsc2UsCiAgICAgIHNob3dTZW50aW1lbnRMZWdlbmQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIOS7jui3r+eUseWPguaVsOiOt+WPluWVhuWTgUlECiAgICB0aGlzLnByb2R1Y3RJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5wcm9kdWN0SWQ7CiAgICB0aGlzLnByb2R1Y3RVcmwgPSB0aGlzLiRyb3V0ZS5xdWVyeS51cmwgfHwgJyc7CiAgICAvLyDojrflj5blvZPliY3or63oqIDorr7nva4KICAgIHRoaXMuY3VycmVudExhbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFuZ3VhZ2UnKSB8fCAnemgnOwogICAgaWYgKHRoaXMucHJvZHVjdElkKSB7CiAgICAgIHRoaXMuZ2V0Q29tbWVudHMoKTsKICAgICAgdGhpcy5nZXRzY29yZSgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOebkeWQrOivreiogOWPmOWMlgogICAgJyRpMThuLmxvY2FsZSc6IHsKICAgICAgaGFuZGxlcihuZXdMYW5nKSB7CiAgICAgICAgdGhpcy5jdXJyZW50TGFuZyA9IG5ld0xhbmc7CiAgICAgICAgLy8g5aaC5p6c5YiH5o2i5Yiw6Iux5paH77yM6Ieq5Yqo57+76K+R5omA5pyJ6K+E6K665ZKM5YWz6ZSu6K+NCiAgICAgICAgaWYgKG5ld0xhbmcgPT09ICdlbicpIHsKICAgICAgICAgIHRoaXMudHJhbnNsYXRlQWxsQ29tbWVudHMoKTsKICAgICAgICAgIHRoaXMudHJhbnNsYXRlS2V5d29yZHMoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZVdvcmRDbG91ZCk7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplV29yZENsb3VkKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgIH0sCiAgICBhc3luYyBmZXRjaE5ld0NvbW1lbnRzKCkgewogICAgICBpZiAoIXRoaXMucHJvZHVjdFVybCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZyh0aGlzLiR0KCdhbmFseXNpcy5ub0NvbW1lbnRzV2FybmluZycpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnL2NvbW1lbnRzL2ZldGNoJywgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHVybDogdGhpcy5wcm9kdWN0VXJsCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3ModGhpcy4kdCgnYW5hbHlzaXMuZmV0Y2hDb21tZW50c1N1Y2Nlc3MnKSk7CiAgICAgICAgICB0aGlzLmdldENvbW1lbnRzKCk7CiAgICAgICAgICB0aGlzLmdldHNjb3JlKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5tc2cgfHwgdGhpcy4kdCgnYW5hbHlzaXMuZmV0Y2hDb21tZW50c0ZhaWxlZCcpKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdmFyIF9lcnJvciRyZXNwb25zZTsKICAgICAgICBjb25zb2xlLmVycm9yKCfojrflj5bor4TorrrlpLHotKU6JywgZXJyb3IpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IodGhpcy4kdCgnYW5hbHlzaXMuZmV0Y2hDb21tZW50c0ZhaWxlZCcpICsgJzogJyArICgoKF9lcnJvciRyZXNwb25zZSA9IGVycm9yLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UgPT09IHZvaWQgMCB8fCAoX2Vycm9yJHJlc3BvbnNlID0gX2Vycm9yJHJlc3BvbnNlLmRhdGEpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yJHJlc3BvbnNlLm1zZykgfHwgZXJyb3IubWVzc2FnZSkpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgZ2V0c2NvcmUoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJy9jb21tZW50cycsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgICAgICBwYWdlU2l6ZTogMjAwMDAsCiAgICAgICAgICAgIHByb2R1Y3RJZDogdGhpcy5wcm9kdWN0SWQKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAnMCcpIHsKICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICB0aGlzLmFsbGNvbW1lbnRzID0gZGF0YS5yZWNvcmRzIHx8IFtdOwogICAgICAgICAgaWYgKHRoaXMuYWxsY29tbWVudHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5pqC5peg6K+E6K665pWw5o2u77yM6K+354K55Ye75LiK5pa55oyJ6ZKu6I635Y+W6K+E6K66Jyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyDorqHnrpfor4TliIbnu5/orqEKICAgICAgICAgIHRoaXMuY2FsY3VsYXRlU2NvcmVEaXN0cmlidXRpb24oKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKHJlc3BvbnNlLmRhdGEubXNnIHx8ICfmnKrmib7liLDor4TorrrmlbDmja4nKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdmFyIF9lcnJvciRyZXNwb25zZTI7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W6K+E6K665YiX6KGo5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bor4TorrrliJfooajlpLHotKU6ICcgKyAoKChfZXJyb3IkcmVzcG9uc2UyID0gZXJyb3IucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZTIgPT09IHZvaWQgMCB8fCAoX2Vycm9yJHJlc3BvbnNlMiA9IF9lcnJvciRyZXNwb25zZTIuZGF0YSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yJHJlc3BvbnNlMi5tc2cpIHx8IGVycm9yLm1lc3NhZ2UpKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGdldENvbW1lbnRzKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCcvY29tbWVudHMnLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgcGFnZU51bTogdGhpcy5jdXJyZW50UGFnZSwKICAgICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsCiAgICAgICAgICAgIHByb2R1Y3RJZDogdGhpcy5wcm9kdWN0SWQKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAnMCcpIHsKICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAvLyDnoa7kv53or4TorrrmlbDmja7kuK3ljIXlkKvnv7vor5Hnm7jlhbPlrZfmrrUKICAgICAgICAgIHRoaXMuY29tbWVudHMgPSAoZGF0YS5yZWNvcmRzIHx8IFtdKS5tYXAoY29tbWVudCA9PiAoewogICAgICAgICAgICAuLi5jb21tZW50LAogICAgICAgICAgICBzZW50aW1lbnRTY29yZTogY29tbWVudC5zZW50aW1lbnRTY29yZSB8fCBudWxsLAogICAgICAgICAgICB0cmFuc2xhdGVkQ29udGVudDogbnVsbCwKICAgICAgICAgICAgc2hvd09yaWdpbmFsOiBmYWxzZQogICAgICAgICAgfSkpOwogICAgICAgICAgdGhpcy50b3RhbCA9IGRhdGEudG90YWwgfHwgMDsKICAgICAgICAgIGlmICh0aGlzLmNvbW1lbnRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcodGhpcy4kdCgnYW5hbHlzaXMubm9Db21tZW50c1dhcm5pbmcnKSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyDojrflj5blhbPplK7or40KICAgICAgICAgIHRoaXMuZ2V0S2V5d29yZHMoKTsKCiAgICAgICAgICAvLyDlpoLmnpzlvZPliY3mmK/oi7HmlofvvIzoh6rliqjnv7vor5HmiYDmnInor4TorroKICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMYW5nID09PSAnZW4nKSB7CiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlQWxsQ29tbWVudHMoKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKHJlc3BvbnNlLmRhdGEubXNnIHx8IHRoaXMuJHQoJ2FuYWx5c2lzLmZldGNoQ29tbWVudHNGYWlsZWQnKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHZhciBfZXJyb3IkcmVzcG9uc2UzOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluivhOiuuuWIl+ihqOWksei0pTonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLiR0KCdhbmFseXNpcy5mZXRjaENvbW1lbnRzRmFpbGVkJykgKyAnOiAnICsgKCgoX2Vycm9yJHJlc3BvbnNlMyA9IGVycm9yLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UzID09PSB2b2lkIDAgfHwgKF9lcnJvciRyZXNwb25zZTMgPSBfZXJyb3IkcmVzcG9uc2UzLmRhdGEpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnJvciRyZXNwb25zZTMubXNnKSB8fCBlcnJvci5tZXNzYWdlKSk7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRLZXl3b3JkcygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgL2NvbW1lbnRzL2tleXdvcmRzMS8ke3RoaXMucHJvZHVjdElkfWAsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICB0b3BOOiA1MAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09ICcwJykgewogICAgICAgICAgY29uc3Qga2V5d29yZHNPYmogPSByZXNwb25zZS5kYXRhLmRhdGEua2V5d29yZHMgfHwge307CgogICAgICAgICAgLy8g5bCG5a+56LGh6L2s5o2i5Li65pWw57uE5qC85byP77yM6YCC55So5LqO6K+N5LqRCiAgICAgICAgICB0aGlzLmtleXdvcmRzID0gT2JqZWN0LmVudHJpZXMoa2V5d29yZHNPYmopLm1hcCgoW3RleHQsIHZhbHVlXSkgPT4gKHsKICAgICAgICAgICAgdGV4dCwKICAgICAgICAgICAgdmFsdWUsCiAgICAgICAgICAgIHRyYW5zbGF0ZWRUZXh0OiBudWxsIC8vIOa3u+WKoOe/u+ivkeaWh+acrOWtl+autQogICAgICAgICAgfSkpOwoKICAgICAgICAgIC8vIOWmguaenOW9k+WJjeaYr+iLseaWh++8jOe/u+ivkeWFs+mUruivjQogICAgICAgICAgaWYgKHRoaXMuY3VycmVudExhbmcgPT09ICdlbicpIHsKICAgICAgICAgICAgZm9yIChjb25zdCBrZXl3b3JkIG9mIHRoaXMua2V5d29yZHMpIHsKICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRyYW5zbGF0ZUNvbW1lbnQoewogICAgICAgICAgICAgICAgY29udGVudDoga2V5d29yZC50ZXh0CiAgICAgICAgICAgICAgfSk7IC8vIOS9v+eUqOeOsOacieeahOe/u+ivkeaWueazlQogICAgICAgICAgICAgIGtleXdvcmQudGV4dCA9IGtleXdvcmQudHJhbnNsYXRlZENvbnRlbnQ7IC8vIOabtOaWsOWFs+mUruivjeaWh+acrAogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgLy8g5Zyo5LiL5LiA5Liq5riy5p+T5ZGo5pyf57uY5Yi26K+N5LqRCiAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgIHRoaXMucmVuZGVyV29yZENsb3VkKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign6I635Y+W5YWz6ZSu6K+N5aSx6LSlOicsIGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHRyYW5zbGF0ZUtleXdvcmRzKCkgewogICAgICBmb3IgKGNvbnN0IGtleXdvcmQgb2YgdGhpcy5rZXl3b3JkcykgewogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJy9hcGkvdHJhbnNsYXRlJywgewogICAgICAgICAgICB0ZXh0OiBrZXl3b3JkLnRleHQsCiAgICAgICAgICAgIHRhcmdldExhbmc6ICdlbicKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5jb2RlID09PSAnMCcpIHsKICAgICAgICAgICAga2V5d29yZC50ZXh0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfnv7vor5HlhbPplK7or43lpLHotKU6JywgZXJyb3IpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UocGFnZSkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTsKICAgICAgaWYgKHRoaXMuc2NvcmVGaWx0ZXIgIT09ICcwJykgewogICAgICAgIC8vIOWmguaenOW9k+WJjeacieivhOWIhuetm+mAie+8jOS9v+eUqOivhOWIhuetm+mAieaOpeWPowogICAgICAgIHRoaXMuZmlsdGVyQ29tbWVudHMoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlkKbliJnkvb/nlKjmma7pgJror4Torrrojrflj5bmjqXlj6MKICAgICAgICB0aGlzLmdldENvbW1lbnRzKCk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBmaWx0ZXJDb21tZW50cygpIHsKICAgICAgaWYgKHRoaXMuc2NvcmVGaWx0ZXIgPT09ICcwJykgewogICAgICAgIC8vIOmHjee9ruS4uuWFqOmDqOivhOiuugogICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICAgIHRoaXMuZ2V0Q29tbWVudHMoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgY29uc3QgbWluU2NvcmUgPSBwYXJzZUludCh0aGlzLnNjb3JlRmlsdGVyKTsKICAgICAgY29uc3QgbWF4U2NvcmUgPSBwYXJzZUludCh0aGlzLnNjb3JlRmlsdGVyKTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgL2NvbW1lbnRzL3Njb3JlLyR7dGhpcy5wcm9kdWN0SWR9YCwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIG1pblNjb3JlLAogICAgICAgICAgICBtYXhTY29yZSwKICAgICAgICAgICAgcGFnZU51bTogdGhpcy5jdXJyZW50UGFnZSwKICAgICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAnMCcpIHsKICAgICAgICAgIC8vIOajgOafpei/lOWbnuaVsOaNrueahOe7k+aehAogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5yZWNvcmRzKSB7CiAgICAgICAgICAgIC8vIOWmguaenOi/lOWbnueahOaYr+WIhumhteagvOW8jwogICAgICAgICAgICB0aGlzLmNvbW1lbnRzID0gcmVzcG9uc2UuZGF0YS5kYXRhLnJlY29yZHMubWFwKGNvbW1lbnQgPT4gKHsKICAgICAgICAgICAgICAuLi5jb21tZW50LAogICAgICAgICAgICAgIHNlbnRpbWVudFNjb3JlOiBjb21tZW50LnNlbnRpbWVudFNjb3JlIHx8IG51bGwKICAgICAgICAgICAgfSkpOwogICAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS5kYXRhLnRvdGFsOwogICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEuZGF0YSkpIHsKICAgICAgICAgICAgLy8g5aaC5p6c6L+U5Zue55qE5piv5pWw57uE5qC85byP77yM5omL5Yqo5aSE55CG5YiG6aG1CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMucGFnZVNpemU7CiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgdGhpcy5wYWdlU2l6ZTsKICAgICAgICAgICAgdGhpcy5jb21tZW50cyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5zbGljZShzdGFydCwgZW5kKS5tYXAoY29tbWVudCA9PiAoewogICAgICAgICAgICAgIC4uLmNvbW1lbnQsCiAgICAgICAgICAgICAgc2VudGltZW50U2NvcmU6IGNvbW1lbnQuc2VudGltZW50U2NvcmUgfHwgbnVsbAogICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLmRhdGEubGVuZ3RoOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jb21tZW50cyA9IFtdOwogICAgICAgICAgICB0aGlzLnRvdGFsID0gMDsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyDlpoLmnpzmnInmg4XmhJ/liIbmnpDmlbDmja7vvIzmmL7npLrlm77kvosKICAgICAgICAgIGlmICh0aGlzLmNvbW1lbnRzLnNvbWUoY29tbWVudCA9PiBjb21tZW50LnNlbnRpbWVudFNjb3JlICE9PSBudWxsKSkgewogICAgICAgICAgICB0aGlzLnNob3dTZW50aW1lbnRMZWdlbmQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcocmVzcG9uc2UuZGF0YS5tc2cgfHwgdGhpcy4kdCgnYW5hbHlzaXMuZmlsdGVyQ29tbWVudHNGYWlsZWQnKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHZhciBfZXJyb3IkcmVzcG9uc2U0OwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+etm+mAieivhOiuuuWksei0pTonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLiR0KCdhbmFseXNpcy5maWx0ZXJDb21tZW50c0ZhaWxlZCcpICsgJzogJyArICgoKF9lcnJvciRyZXNwb25zZTQgPSBlcnJvci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlNCA9PT0gdm9pZCAwIHx8IChfZXJyb3IkcmVzcG9uc2U0ID0gX2Vycm9yJHJlc3BvbnNlNC5kYXRhKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2U0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyb3IkcmVzcG9uc2U0Lm1zZykgfHwgZXJyb3IubWVzc2FnZSkpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgc2VhcmNoQ29tbWVudHMoKSB7CiAgICAgIGlmICghdGhpcy5zZWFyY2hLZXl3b3JkLnRyaW0oKSkgewogICAgICAgIC8vIOWmguaenOaQnOe0ouWFs+mUruivjeS4uuepuu+8jOaBouWkjeaYvuekuuaJgOacieivhOiuugogICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICAgIHRoaXMuZ2V0Q29tbWVudHMoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgL2NvbW1lbnRzL3NlYXJjaC8ke3RoaXMucHJvZHVjdElkfWAsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBrZXl3b3JkOiB0aGlzLnNlYXJjaEtleXdvcmQudHJpbSgpCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICB0aGlzLmNvbW1lbnRzID0gKHJlc3BvbnNlLmRhdGEuZGF0YSB8fCBbXSkubWFwKGNvbW1lbnQgPT4gKHsKICAgICAgICAgICAgLi4uY29tbWVudCwKICAgICAgICAgICAgc2VudGltZW50U2NvcmU6IGNvbW1lbnQuc2VudGltZW50U2NvcmUgfHwgbnVsbAogICAgICAgICAgfSkpOwogICAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMuY29tbWVudHMubGVuZ3RoOwogICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CgogICAgICAgICAgLy8g5aaC5p6c5pyJ5oOF5oSf5YiG5p6Q5pWw5o2u77yM5pi+56S65Zu+5L6LCiAgICAgICAgICBpZiAodGhpcy5jb21tZW50cy5zb21lKGNvbW1lbnQgPT4gY29tbWVudC5zZW50aW1lbnRTY29yZSAhPT0gbnVsbCkpIHsKICAgICAgICAgICAgdGhpcy5zaG93U2VudGltZW50TGVnZW5kID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKHJlc3BvbnNlLmRhdGEubXNnIHx8IHRoaXMuJHQoJ2FuYWx5c2lzLnNlYXJjaENvbW1lbnRzRmFpbGVkJykpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB2YXIgX2Vycm9yJHJlc3BvbnNlNTsKICAgICAgICBjb25zb2xlLmVycm9yKCfmkJzntKLor4TorrrlpLHotKU6JywgZXJyb3IpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IodGhpcy4kdCgnYW5hbHlzaXMuc2VhcmNoQ29tbWVudHNGYWlsZWQnKSArICc6ICcgKyAoKChfZXJyb3IkcmVzcG9uc2U1ID0gZXJyb3IucmVzcG9uc2UpID09PSBudWxsIHx8IF9lcnJvciRyZXNwb25zZTUgPT09IHZvaWQgMCB8fCAoX2Vycm9yJHJlc3BvbnNlNSA9IF9lcnJvciRyZXNwb25zZTUuZGF0YSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yJHJlc3BvbnNlNS5tc2cpIHx8IGVycm9yLm1lc3NhZ2UpKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGNhbGN1bGF0ZVNjb3JlRGlzdHJpYnV0aW9uKCkgewogICAgICBpZiAoIXRoaXMuYWxsY29tbWVudHMgfHwgdGhpcy5hbGxjb21tZW50cy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmF2ZXJhZ2VTY29yZSA9IDA7CiAgICAgICAgdGhpcy5zY29yZURpc3RyaWJ1dGlvbiA9IHsKICAgICAgICAgIDE6IDAsCiAgICAgICAgICAyOiAwLAogICAgICAgICAgMzogMCwKICAgICAgICAgIDQ6IDAsCiAgICAgICAgICA1OiAwCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIOWIneWni+WMluiuoeaVsOWZqAogICAgICBjb25zdCBzY29yZUNvdW50cyA9IHsKICAgICAgICAxOiAwLAogICAgICAgIDI6IDAsCiAgICAgICAgMzogMCwKICAgICAgICA0OiAwLAogICAgICAgIDU6IDAKICAgICAgfTsKICAgICAgbGV0IHRvdGFsU2NvcmUgPSAwOwoKICAgICAgLy8g6K6h566X5q+P5Liq6K+E5YiG55qE5pWw6YeP5ZKM5oC75YiGCiAgICAgIHRoaXMuYWxsY29tbWVudHMuZm9yRWFjaChjb21tZW50ID0+IHsKICAgICAgICBpZiAoY29tbWVudC5zY29yZSA+PSAxICYmIGNvbW1lbnQuc2NvcmUgPD0gNSkgewogICAgICAgICAgc2NvcmVDb3VudHNbY29tbWVudC5zY29yZV0rKzsKICAgICAgICAgIHRvdGFsU2NvcmUgKz0gY29tbWVudC5zY29yZTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8g6K6h566X5bmz5Z2H5YiGCiAgICAgIHRoaXMuYXZlcmFnZVNjb3JlID0gdG90YWxTY29yZSAvIHRoaXMuYWxsY29tbWVudHMubGVuZ3RoOwoKICAgICAgLy8g6K6h566X5q+P5Liq6K+E5YiG55qE55m+5YiG5q+UCiAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5hbGxjb21tZW50cy5sZW5ndGg7CiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDU7IGkrKykgewogICAgICAgIHRoaXMuc2NvcmVEaXN0cmlidXRpb25baV0gPSBNYXRoLnJvdW5kKHNjb3JlQ291bnRzW2ldIC8gdG90YWwgKiAxMDApOwogICAgICB9CiAgICB9LAogICAgcmVuZGVyV29yZENsb3VkKCkgewogICAgICBpZiAoIXRoaXMua2V5d29yZHMgfHwgdGhpcy5rZXl3b3Jkcy5sZW5ndGggPT09IDAgfHwgIXRoaXMuJHJlZnMud29yZENsb3VkKSByZXR1cm47CiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuJHJlZnMud29yZENsb3VkOwogICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7CgogICAgICAvLyDorr7nva7lrZfkvZPlpKflsI/ojIPlm7QKICAgICAgY29uc3QgbWF4Rm9udFNpemUgPSA0MjsKICAgICAgY29uc3QgbWluRm9udFNpemUgPSAxNDsKCiAgICAgIC8vIOaJvuWHuuacgOWkp+WSjOacgOWwj+adg+mHjeWAvAogICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLmtleXdvcmRzLm1hcChpdGVtID0+IGl0ZW0udmFsdWUpOwogICAgICBjb25zdCBtYXhWYWx1ZSA9IE1hdGgubWF4KC4uLnZhbHVlcyk7CiAgICAgIGNvbnN0IG1pblZhbHVlID0gTWF0aC5taW4oLi4udmFsdWVzKTsKCiAgICAgIC8vIOWumuS5ieS4gOe7hOe+juingueahOminOiJsgogICAgICBjb25zdCBjb2xvcnMgPSBbJyMzYTdiZDUnLCAnIzAwZDJmZicsICcjMTE5OThlJywgJyMzOGVmN2QnLCAnI2E4ZmY3OCcsICcjZjg1N2E2JywgJyNmZjU4NTgnLCAnI2ZjYjA0NScsICcjN2I0Mzk3JywgJyNkYzI0MzAnLCAnIzQ1NjhkYycsICcjYjA2YWIzJ107CiAgICAgIHRoaXMua2V5d29yZHMuZm9yRWFjaChrZXl3b3JkID0+IHsKICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgICAgIHNwYW4uY2xhc3NOYW1lID0gJ2tleXdvcmQnOwogICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBrZXl3b3JkLnRleHQ7CgogICAgICAgIC8vIOiuoeeul+Wtl+S9k+Wkp+WwjwogICAgICAgIGNvbnN0IGZvbnRTaXplID0gbWluVmFsdWUgPT09IG1heFZhbHVlID8gKG1heEZvbnRTaXplICsgbWluRm9udFNpemUpIC8gMiA6IG1pbkZvbnRTaXplICsgKGtleXdvcmQudmFsdWUgLSBtaW5WYWx1ZSkgLyAobWF4VmFsdWUgLSBtaW5WYWx1ZSkgKiAobWF4Rm9udFNpemUgLSBtaW5Gb250U2l6ZSk7CgogICAgICAgIC8vIOmaj+acuumAieaLqeminOiJsgogICAgICAgIGNvbnN0IGNvbG9yID0gY29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbG9ycy5sZW5ndGgpXTsKCiAgICAgICAgLy8g6K6+572u5qC35byPCiAgICAgICAgc3Bhbi5zdHlsZS5mb250U2l6ZSA9IGAke2ZvbnRTaXplfXB4YDsKICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gY29sb3I7CiAgICAgICAgc3Bhbi5zdHlsZS5mb250V2VpZ2h0ID0gTWF0aC5mbG9vcihmb250U2l6ZSAvIDUpICogMTAwOwogICAgICAgIHNwYW4uc3R5bGUub3BhY2l0eSA9IDAuOSAtIDAuMyAqIChmb250U2l6ZSAtIG1pbkZvbnRTaXplKSAvIChtYXhGb250U2l6ZSAtIG1pbkZvbnRTaXplKTsKICAgICAgICBzcGFuLnN0eWxlLnRyYW5zaXRpb24gPSAnYWxsIDAuM3MgZWFzZSc7CgogICAgICAgIC8vIOm8oOagh+aCrOWBnOaViOaenAogICAgICAgIHNwYW4ub25tb3VzZWVudGVyID0gKCkgPT4gewogICAgICAgICAgc3Bhbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2Y1ZjdmYSc7CiAgICAgICAgICBzcGFuLnN0eWxlLm9wYWNpdHkgPSAnMSc7CiAgICAgICAgfTsKICAgICAgICBzcGFuLm9ubW91c2VsZWF2ZSA9ICgpID0+IHsKICAgICAgICAgIHNwYW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3RyYW5zcGFyZW50JzsKICAgICAgICB9OwogICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzaXplV29yZENsb3VkKCkgewogICAgICB0aGlzLnJlbmRlcldvcmRDbG91ZCgpOwogICAgfSwKICAgIGdldFNjb3JlQ29sb3Ioc2NvcmUpIHsKICAgICAgaWYgKHNjb3JlID49IDQuNSkgcmV0dXJuICcjNjdDMjNBJzsgLy8g57u/6ImyIC0g5LyY56eACiAgICAgIGlmIChzY29yZSA+PSA0KSByZXR1cm4gJyM4NUNFNjEnOyAvLyDmtYXnu7/oibIgLSDoia/lpb0KICAgICAgaWYgKHNjb3JlID49IDMpIHJldHVybiAnI0U2QTIzQyc7IC8vIOm7hOiJsiAtIOS4gOiIrAogICAgICBpZiAoc2NvcmUgPj0gMikgcmV0dXJuICcjRjU2QzZDJzsgLy8g57qi6ImyIC0g6L6D5beuCiAgICAgIHJldHVybiAnI0Y1NkM2Qyc7IC8vIOa3see6ouiJsiAtIOW+iOW3rgogICAgfSwKICAgIGV4cG9ydEtleXdvcmRzKCkgewogICAgICAvLyDlsIblhbPplK7or43ovazmjaLkuLpDU1bmoLzlvI8KICAgICAgY29uc3QgY3N2Q29udGVudCA9ICJkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsIiArICLlhbPplK7or40s6aKR546HXG4iICsgdGhpcy5rZXl3b3Jkcy5tYXAoayA9PiBgJHtrLnRleHR9LCR7ay52YWx1ZX1gKS5qb2luKCJcbiIpOwoKICAgICAgLy8g5Yib5bu65LiL6L296ZO+5o6lCiAgICAgIGNvbnN0IGVuY29kZWRVcmkgPSBlbmNvZGVVUkkoY3N2Q29udGVudCk7CiAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJocmVmIiwgZW5jb2RlZFVyaSk7CiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsIGDllYblk4FfJHt0aGlzLnByb2R1Y3RJZH1f5YWz6ZSu6K+NLmNzdmApOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOwoKICAgICAgLy8g6Kem5Y+R5LiL6L29CiAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHRoaXMuJHQoJ2FuYWx5c2lzLmV4cG9ydEtleXdvcmRzU3VjY2VzcycpKTsKICAgIH0sCiAgICBhc3luYyBhbmFseXplU2VudGltZW50KCkgewogICAgICBpZiAodGhpcy5jb21tZW50cy5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcodGhpcy4kdCgnYW5hbHlzaXMubm9Db21tZW50c1dhcm5pbmcnKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuaXNBbmFseXppbmcgPSB0cnVlOwogICAgICB0aGlzLnNob3dTZW50aW1lbnRMZWdlbmQgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChgL2NvbW1lbnRzL3NlbnRpbWVudC8ke3RoaXMucHJvZHVjdElkfWAsIHsKICAgICAgICAgIGNvbW1lbnRzOiB0aGlzLmNvbW1lbnRzLm1hcChjb21tZW50ID0+ICh7CiAgICAgICAgICAgIGlkOiBjb21tZW50LmlkLAogICAgICAgICAgICBjb250ZW50OiBjb21tZW50LmNvbnRlbnQKICAgICAgICAgIH0pKQogICAgICAgIH0pOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09ICcwJykgewogICAgICAgICAgY29uc3Qgc2VudGltZW50UmVzdWx0cyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIC8vIOabtOaWsOivhOiuuueahOaDheaEn+WIhuaVsAogICAgICAgICAgdGhpcy5jb21tZW50cyA9IHRoaXMuY29tbWVudHMubWFwKGNvbW1lbnQgPT4gewogICAgICAgICAgICBjb25zdCBzZW50aW1lbnRTY29yZSA9IHNlbnRpbWVudFJlc3VsdHNbY29tbWVudC5pZF07CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgLi4uY29tbWVudCwKICAgICAgICAgICAgICBzZW50aW1lbnRTY29yZTogc2VudGltZW50U2NvcmUgIT09IHVuZGVmaW5lZCA/IHNlbnRpbWVudFNjb3JlIDogMC41CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh0aGlzLiR0KCdhbmFseXNpcy5zZW50aW1lbnRBbmFseXNpc1N1Y2Nlc3MnKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5tc2cgfHwgdGhpcy4kdCgnYW5hbHlzaXMuc2VudGltZW50QW5hbHlzaXNGYWlsZWQnKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHZhciBfZXJyb3IkcmVzcG9uc2U2OwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+aDheaEn+WIhuaekOWksei0pTonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih0aGlzLiR0KCdhbmFseXNpcy5zZW50aW1lbnRBbmFseXNpc0ZhaWxlZCcpICsgJzogJyArICgoKF9lcnJvciRyZXNwb25zZTYgPSBlcnJvci5yZXNwb25zZSkgPT09IG51bGwgfHwgX2Vycm9yJHJlc3BvbnNlNiA9PT0gdm9pZCAwIHx8IChfZXJyb3IkcmVzcG9uc2U2ID0gX2Vycm9yJHJlc3BvbnNlNi5kYXRhKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2U2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyb3IkcmVzcG9uc2U2Lm1zZykgfHwgZXJyb3IubWVzc2FnZSkpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuaXNBbmFseXppbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGdldFNlbnRpbWVudFN0eWxlKHNjb3JlKSB7CiAgICAgIC8vIOagueaNruaDheaEn+WIhuaVsOi/lOWbnuWvueW6lOeahOiDjOaZr+iJsgogICAgICBpZiAoc2NvcmUgPj0gMC42KSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMTAzLCAxOTQsIDU4LCAwLjEpJwogICAgICAgIH07IC8vIOenr+aegSAtIOa1hee7v+iJsgogICAgICB9IGVsc2UgaWYgKHNjb3JlID49IDAuNCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDIzMCwgMTYyLCA2MCwgMC4xKScKICAgICAgICB9OyAvLyDkuK3mgKcgLSDmtYXpu4ToibIKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNDUsIDEwOCwgMTA4LCAwLjEpJwogICAgICAgIH07IC8vIOa2iOaegSAtIOa1hee6ouiJsgogICAgICB9CiAgICB9LAogICAgYXN5bmMgdHJhbnNsYXRlQ29tbWVudChjb21tZW50KSB7CiAgICAgIGlmICghY29tbWVudC5jb250ZW50KSByZXR1cm47CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCcvYXBpL3RyYW5zbGF0ZScsIHsKICAgICAgICAgIHRleHQ6IGNvbW1lbnQuY29udGVudCwKICAgICAgICAgIHRhcmdldExhbmc6ICdlbicKICAgICAgICB9KTsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmNvZGUgPT09ICcwJykgewogICAgICAgICAgLy8g5L2/55SoIFZ1ZS5zZXQg56Gu5L+d5ZON5bqU5byP5pu05pawCiAgICAgICAgICB0aGlzLiRzZXQoY29tbWVudCwgJ3RyYW5zbGF0ZWRDb250ZW50JywgcmVzcG9uc2UuZGF0YS5kYXRhKTsKICAgICAgICAgIHRoaXMuJHNldChjb21tZW50LCAnc2hvd09yaWdpbmFsJywgZmFsc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubXNnIHx8IHRoaXMuJHQoJ2FuYWx5c2lzLnRyYW5zbGF0ZUZhaWxlZCcpKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign57+76K+R5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHRoaXMuJHQoJ2FuYWx5c2lzLnRyYW5zbGF0ZUZhaWxlZCcpKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHRyYW5zbGF0ZUFsbENvbW1lbnRzKCkgewogICAgICBmb3IgKGNvbnN0IGNvbW1lbnQgb2YgdGhpcy5jb21tZW50cykgewogICAgICAgIGlmICghY29tbWVudC50cmFuc2xhdGVkQ29udGVudCkgewogICAgICAgICAgYXdhaXQgdGhpcy50cmFuc2xhdGVDb21tZW50KGNvbW1lbnQpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHRvZ2dsZU9yaWdpbmFsQ29udGVudChjb21tZW50KSB7CiAgICAgIHRoaXMuJHNldChjb21tZW50LCAnc2hvd09yaWdpbmFsJywgIWNvbW1lbnQuc2hvd09yaWdpbmFsKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["axios","name","data","productId","productUrl","comments","allcomments","currentPage","pageSize","total","loading","scoreFilter","searchKeyword","keywords","currentLang","averageScore","scoreDistribution","isAnalyzing","showSentimentLegend","created","$route","params","query","url","localStorage","getItem","getComments","getscore","watch","handler","newLang","translateAllComments","translateKeywords","immediate","mounted","window","addEventListener","resizeWordCloud","beforeDestroy","removeEventListener","methods","goBack","$router","push","fetchNewComments","$message","warning","$t","response","get","code","success","error","msg","_error$response","console","message","pageNum","records","length","calculateScoreDistribution","_error$response2","map","comment","sentimentScore","translatedContent","showOriginal","getKeywords","_error$response3","topN","keywordsObj","Object","entries","text","value","translatedText","keyword","translateComment","content","$nextTick","renderWordCloud","post","targetLang","handleCurrentChange","page","filterComments","minScore","parseInt","maxScore","Array","isArray","start","end","slice","some","_error$response4","searchComments","trim","_error$response5","scoreCounts","totalScore","forEach","score","i","Math","round","$refs","wordCloud","container","innerHTML","maxFontSize","minFontSize","values","item","maxValue","max","minValue","min","colors","span","document","createElement","className","textContent","fontSize","color","floor","random","style","fontWeight","opacity","transition","onmouseenter","backgroundColor","onmouseleave","appendChild","getScoreColor","exportKeywords","csvContent","k","join","encodedUri","encodeURI","link","setAttribute","body","click","removeChild","analyzeSentiment","id","sentimentResults","undefined","_error$response6","getSentimentStyle","$set","toggleOriginalContent"],"sources":["src/views/Analysis.vue"],"sourcesContent":["<template>\n  <div class=\"analysis-container\">\n    <div class=\"header-area\">\n      <div class=\"back-button\" @click=\"goBack\">\n        <i class=\"el-icon-arrow-left\"></i> {{ $t('analysis.back') }}\n      </div>\n      <h2 class=\"product-title\">{{ $t('analysis.title') }}</h2>\n      <div class=\"action-buttons\">\n        <div class=\"sentiment-button\" @click=\"analyzeSentiment\" v-if=\"!loading && !isAnalyzing\">\n          <i class=\"el-icon-data-analysis\"></i> {{ $t('analysis.sentimentAnalysis') }}\n        </div>\n        <div class=\"refresh-button\" @click=\"fetchNewComments\" v-if=\"!loading\">\n          <i class=\"el-icon-refresh\"></i> {{ $t('analysis.refreshComments') }}\n        </div>\n        <div class=\"loading-indicator\" v-else>\n          <i class=\"el-icon-loading\"></i> {{ $t('analysis.loading') }}\n        </div>\n      </div>\n    </div>\n\n    <el-row :gutter=\"20\" class=\"main-content\">\n      <!-- 左侧区域 - 评论列表和筛选 -->\n      <el-col :span=\"14\">\n        <el-card class=\"comment-card\">\n          <div slot=\"header\" class=\"comment-header\">\n            <span>{{ $t('analysis.commentList') }}</span>\n            <div class=\"comment-filter\">\n              <el-select v-model=\"scoreFilter\" :placeholder=\"$t('analysis.filterByScore')\" size=\"small\" @change=\"filterComments\">\n                <el-option :label=\"$t('analysis.allScores')\" value=\"0\"></el-option>\n                <el-option :label=\"$t('analysis.star1')\" value=\"1\"></el-option>\n                <el-option :label=\"$t('analysis.star2')\" value=\"2\"></el-option>\n                <el-option :label=\"$t('analysis.star3')\" value=\"3\"></el-option>\n                <el-option :label=\"$t('analysis.star4')\" value=\"4\"></el-option>\n                <el-option :label=\"$t('analysis.star5')\" value=\"5\"></el-option>\n              </el-select>\n              <el-input\n                  :placeholder=\"$t('analysis.searchPlaceholder')\"\n                  v-model=\"searchKeyword\"\n                  class=\"search-input\"\n                  size=\"small\"\n                  clearable\n                  @keyup.enter.native=\"searchComments\"\n                  prefix-icon=\"el-icon-search\"\n              >\n                <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchComments\"></el-button>\n              </el-input>\n            </div>\n          </div>\n\n          <!-- 情感分析颜色说明 -->\n          <div v-if=\"showSentimentLegend\" class=\"sentiment-legend\">\n            <div class=\"legend-item\">\n              <div class=\"color-block positive\"></div>\n              <span>{{ $t('analysis.sentimentLegend.positive') }}</span>\n            </div>\n            <div class=\"legend-item\">\n              <div class=\"color-block neutral\"></div>\n              <span>{{ $t('analysis.sentimentLegend.neutral') }}</span>\n            </div>\n            <div class=\"legend-item\">\n              <div class=\"color-block negative\"></div>\n              <span>{{ $t('analysis.sentimentLegend.negative') }}</span>\n            </div>\n          </div>\n\n          <div v-if=\"comments.length === 0\" class=\"empty-comments\">\n            <i class=\"el-icon-chat-dot-square empty-icon\"></i>\n            <p>{{ $t('analysis.emptyComments') }}</p>\n          </div>\n\n          <div v-else class=\"comment-list\">\n            <div v-for=\"comment in comments\" :key=\"comment.id\" \n                 class=\"comment-item\"\n                 :class=\"{'has-sentiment': showSentimentLegend && comment.sentimentScore !== null}\"\n                 :style=\"showSentimentLegend && comment.sentimentScore !== null ? getSentimentStyle(comment.sentimentScore) : { backgroundColor: '#ffffff' }\">\n              <div class=\"comment-user\">\n                <i class=\"el-icon-user\"></i>\n                <span class=\"username\">{{ comment.nickname || $t('analysis.anonymousUser') }}</span>\n              </div>\n              <div class=\"score-display\">\n                <i v-for=\"n in 5\" :key=\"n\"\n                   :class=\"n <= comment.score ? 'el-icon-star-on' : 'el-icon-star-off'\"\n                   :style=\"{ color: n <= comment.score ? '#f7ba2a' : '#dcdfe6' }\">\n                </i>\n                <span class=\"score-text\">{{ comment.score }}{{ $t('analysis.score') }}</span>\n                <span v-if=\"showSentimentLegend && comment.sentimentScore !== null\" class=\"sentiment-score\">\n                  {{ $t('analysis.sentimentScore') }}: {{ comment.sentimentScore.toFixed(2) }}\n                </span>\n              </div>\n              <div class=\"comment-content\">\n                <template v-if=\"currentLang === 'en' && comment.translatedContent\">\n                  <template v-if=\"!comment.showOriginal\">\n                    {{ comment.translatedContent }}\n                    <div class=\"original-content\" @click=\"toggleOriginalContent(comment)\">\n                      {{ $t('analysis.showOriginal') }}\n                    </div>\n                  </template>\n                  <template v-else>\n                    {{ comment.content }}\n                    <div class=\"original-content\" @click=\"toggleOriginalContent(comment)\">\n                      {{ $t('analysis.showTranslation') }}\n                    </div>\n                  </template>\n                </template>\n                <template v-else>\n                  {{ comment.content }}\n                  <div v-if=\"currentLang === 'en'\" class=\"translate-button\" @click=\"translateComment(comment)\">\n                    {{ $t('analysis.translate') }}\n                  </div>\n                </template>\n              </div>\n              <div class=\"comment-time\" v-if=\"comment.createTime\">\n                {{ new Date(comment.createTime).toLocaleString() }}\n              </div>\n            </div>\n          </div>\n\n          <div class=\"pagination-container\" v-if=\"comments.length > 0\">\n            <el-pagination\n                @current-change=\"handleCurrentChange\"\n                :current-page=\"currentPage\"\n                :page-size=\"pageSize\"\n                layout=\"prev, pager, next\"\n                :total=\"total\">\n            </el-pagination>\n          </div>\n        </el-card>\n      </el-col>\n\n      <!-- 右侧区域 - 评论分析 -->\n      <el-col :span=\"10\">\n        <!-- 评分统计卡片 -->\n        <el-card class=\"analysis-card score-card\">\n          <div slot=\"header\" class=\"card-header\">\n            <span>{{ $t('analysis.scoreDistribution') }}</span>\n            <el-tooltip :content=\"$t('analysis.scoreDistributionTip')\" placement=\"top\">\n              <i class=\"el-icon-info\"></i>\n            </el-tooltip>\n          </div>\n          <div class=\"score-summary\">\n            <div class=\"average-score\" :style=\"{ color: getScoreColor(averageScore) }\">\n              {{ averageScore.toFixed(1) }}\n              <span class=\"score-label\">{{ $t('analysis.averageScore') }}</span>\n            </div>\n            <div class=\"score-bars\">\n              <div v-for=\"i in 5\" :key=\"i\" class=\"score-bar-item\">\n                <span class=\"score-label\">{{ $t('analysis.star' + i) }}</span>\n                <div class=\"score-bar-container\">\n                  <div class=\"score-bar\"\n                       :style=\"{ width: scoreDistribution[i] + '%', backgroundColor: getScoreColor(i) }\">\n                  </div>\n                </div>\n                <span class=\"score-percentage\">{{ scoreDistribution[i] }}%</span>\n              </div>\n            </div>\n          </div>\n        </el-card>\n\n        <!-- 词云卡片 -->\n        <el-card class=\"analysis-card word-cloud-card\">\n          <div slot=\"header\" class=\"card-header\">\n            <span>{{ $t('analysis.keywordCloud') }}</span>\n            <el-tooltip :content=\"$t('analysis.keywordCloudTip')\" placement=\"top\">\n              <i class=\"el-icon-info\"></i>\n            </el-tooltip>\n          </div>\n          <div class=\"word-cloud-container\" ref=\"wordCloudContainer\">\n            <div v-if=\"keywords.length === 0\" class=\"empty-keywords\">\n              <i class=\"el-icon-data-analysis empty-icon\"></i>\n              <p>{{ $t('analysis.emptyKeywords') }}</p>\n            </div>\n            <div v-else class=\"word-cloud\" ref=\"wordCloud\"></div>\n          </div>\n          <div class=\"word-cloud-footer\" v-if=\"keywords.length > 0\">\n            <span>{{ $t('analysis.totalKeywords', { count: keywords.length }) }}</span>\n            <el-button type=\"text\" size=\"mini\" @click=\"exportKeywords\">{{ $t('analysis.exportKeywords') }}</el-button>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'Analysis',\n  data() {\n    return {\n      productId: null,\n      productUrl: '',\n      comments: [],\n      allcomments: [],\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n      loading: false,\n      scoreFilter: '0',\n      searchKeyword: '',\n      keywords: [],\n      currentLang: 'zh',\n\n      // 评分统计\n      averageScore: 0,\n      scoreDistribution: {\n        1: 0,\n        2: 0,\n        3: 0,\n        4: 0,\n        5: 0\n      },\n      isAnalyzing: false,\n      showSentimentLegend: false,\n    };\n  },\n  created() {\n    // 从路由参数获取商品ID\n    this.productId = this.$route.params.productId;\n    this.productUrl = this.$route.query.url || '';\n    // 获取当前语言设置\n    this.currentLang = localStorage.getItem('language') || 'zh';\n\n    if (this.productId) {\n      this.getComments();\n      this.getscore();\n    }\n  },\n  watch: {\n    // 监听语言变化\n    '$i18n.locale': {\n      handler(newLang) {\n        this.currentLang = newLang;\n        // 如果切换到英文，自动翻译所有评论和关键词\n        if (newLang === 'en') {\n          this.translateAllComments();\n          this.translateKeywords();\n        }\n      },\n      immediate: true\n    }\n  },\n  mounted() {\n    window.addEventListener('resize', this.resizeWordCloud);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.resizeWordCloud);\n  },\n  methods: {\n    goBack() {\n      this.$router.push('/');\n    },\n\n    async fetchNewComments() {\n      if (!this.productUrl) {\n        this.$message.warning(this.$t('analysis.noCommentsWarning'));\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        const response = await axios.get('/comments/fetch', {\n          params: { url: this.productUrl }\n        });\n\n        if (response.data.code === '0') {\n          this.$message.success(this.$t('analysis.fetchCommentsSuccess'));\n          this.getComments();\n          this.getscore();\n        } else {\n          this.$message.error(response.data.msg || this.$t('analysis.fetchCommentsFailed'));\n        }\n      } catch (error) {\n        console.error('获取评论失败:', error);\n        this.$message.error(this.$t('analysis.fetchCommentsFailed') + ': ' + (error.response?.data?.msg || error.message));\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async getscore() {\n      this.loading = true;\n\n      try {\n        const response = await axios.get('/comments', {\n          params: {\n            pageNum: 1,\n            pageSize: 20000,\n            productId: this.productId\n          }\n        });\n\n        if (response.data.code === '0') {\n          const data = response.data.data;\n          this.allcomments = data.records || [];\n\n          if (this.allcomments.length === 0) {\n            this.$message.warning('暂无评论数据，请点击上方按钮获取评论');\n            return;\n          }\n\n          // 计算评分统计\n          this.calculateScoreDistribution();\n        } else {\n          this.$message.warning(response.data.msg || '未找到评论数据');\n        }\n      } catch (error) {\n        console.error('获取评论列表失败:', error);\n        this.$message.error('获取评论列表失败: ' + (error.response?.data?.msg || error.message));\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async getComments() {\n      this.loading = true;\n\n      try {\n        const response = await axios.get('/comments', {\n          params: {\n            pageNum: this.currentPage,\n            pageSize: this.pageSize,\n            productId: this.productId\n          }\n        });\n\n        if (response.data.code === '0') {\n          const data = response.data.data;\n          // 确保评论数据中包含翻译相关字段\n          this.comments = (data.records || []).map(comment => ({\n            ...comment,\n            sentimentScore: comment.sentimentScore || null,\n            translatedContent: null,\n            showOriginal: false\n          }));\n          this.total = data.total || 0;\n\n          if (this.comments.length === 0) {\n            this.$message.warning(this.$t('analysis.noCommentsWarning'));\n            return;\n          }\n\n          // 获取关键词\n          this.getKeywords();\n          \n          // 如果当前是英文，自动翻译所有评论\n          if (this.currentLang === 'en') {\n            this.translateAllComments();\n          }\n        } else {\n          this.$message.warning(response.data.msg || this.$t('analysis.fetchCommentsFailed'));\n        }\n      } catch (error) {\n        console.error('获取评论列表失败:', error);\n        this.$message.error(this.$t('analysis.fetchCommentsFailed') + ': ' + (error.response?.data?.msg || error.message));\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async getKeywords() {\n      try {\n        const response = await axios.get(`/comments/keywords1/${this.productId}`, {\n          params: { topN: 50 }\n        });\n\n        if (response.data.code === '0') {\n          const keywordsObj = response.data.data.keywords || {};\n\n          // 将对象转换为数组格式，适用于词云\n          this.keywords = Object.entries(keywordsObj).map(([text, value]) => ({\n            text,\n            value,\n            translatedText: null  // 添加翻译文本字段\n          }));\n\n          // 如果当前是英文，翻译关键词\n          if (this.currentLang === 'en') {\n            for (const keyword of this.keywords) {\n              await this.translateComment({ content: keyword.text });  // 使用现有的翻译方法\n              keyword.text = keyword.translatedContent;  // 更新关键词文本\n            }\n          }\n\n          // 在下一个渲染周期绘制词云\n          this.$nextTick(() => {\n            this.renderWordCloud();\n          });\n        }\n      } catch (error) {\n        console.error('获取关键词失败:', error);\n      }\n    },\n\n    async translateKeywords() {\n      for (const keyword of this.keywords) {\n        try {\n          const response = await axios.post('/api/translate', {\n            text: keyword.text,\n            targetLang: 'en'\n          });\n\n          if (response.data && response.data.code === '0') {\n            keyword.text = response.data.data;\n          }\n        } catch (error) {\n          console.error('翻译关键词失败:', error);\n        }\n      }\n    },\n\n    handleCurrentChange(page) {\n      this.currentPage = page;\n      if (this.scoreFilter !== '0') {\n        // 如果当前有评分筛选，使用评分筛选接口\n        this.filterComments();\n      } else {\n        // 否则使用普通评论获取接口\n        this.getComments();\n      }\n    },\n\n    async filterComments() {\n      if (this.scoreFilter === '0') {\n        // 重置为全部评论\n        this.currentPage = 1;\n        this.getComments();\n        return;\n      }\n\n      this.loading = true;\n      const minScore = parseInt(this.scoreFilter);\n      const maxScore = parseInt(this.scoreFilter);\n\n      try {\n        const response = await axios.get(`/comments/score/${this.productId}`, {\n          params: {\n            minScore,\n            maxScore,\n            pageNum: this.currentPage,\n            pageSize: this.pageSize\n          }\n        });\n\n        if (response.data.code === '0') {\n          // 检查返回数据的结构\n          if (response.data.data.records) {\n            // 如果返回的是分页格式\n            this.comments = response.data.data.records.map(comment => ({\n              ...comment,\n              sentimentScore: comment.sentimentScore || null\n            }));\n            this.total = response.data.data.total;\n          } else if (Array.isArray(response.data.data)) {\n            // 如果返回的是数组格式，手动处理分页\n            const start = (this.currentPage - 1) * this.pageSize;\n            const end = start + this.pageSize;\n            this.comments = response.data.data.slice(start, end).map(comment => ({\n              ...comment,\n              sentimentScore: comment.sentimentScore || null\n            }));\n            this.total = response.data.data.length;\n          } else {\n            this.comments = [];\n            this.total = 0;\n          }\n\n          // 如果有情感分析数据，显示图例\n          if (this.comments.some(comment => comment.sentimentScore !== null)) {\n            this.showSentimentLegend = true;\n          }\n        } else {\n          this.$message.warning(response.data.msg || this.$t('analysis.filterCommentsFailed'));\n        }\n      } catch (error) {\n        console.error('筛选评论失败:', error);\n        this.$message.error(this.$t('analysis.filterCommentsFailed') + ': ' + (error.response?.data?.msg || error.message));\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async searchComments() {\n      if (!this.searchKeyword.trim()) {\n        // 如果搜索关键词为空，恢复显示所有评论\n        this.currentPage = 1;\n        this.getComments();\n        return;\n      }\n\n      this.loading = true;\n\n      try {\n        const response = await axios.get(`/comments/search/${this.productId}`, {\n          params: {\n            keyword: this.searchKeyword.trim()\n          }\n        });\n\n        if (response.data.code === '0') {\n          this.comments = (response.data.data || []).map(comment => ({\n            ...comment,\n            sentimentScore: comment.sentimentScore || null\n          }));\n          this.total = this.comments.length;\n          this.currentPage = 1;\n\n          // 如果有情感分析数据，显示图例\n          if (this.comments.some(comment => comment.sentimentScore !== null)) {\n            this.showSentimentLegend = true;\n          }\n        } else {\n          this.$message.warning(response.data.msg || this.$t('analysis.searchCommentsFailed'));\n        }\n      } catch (error) {\n        console.error('搜索评论失败:', error);\n        this.$message.error(this.$t('analysis.searchCommentsFailed') + ': ' + (error.response?.data?.msg || error.message));\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    calculateScoreDistribution() {\n      if (!this.allcomments || this.allcomments.length === 0) {\n        this.averageScore = 0;\n        this.scoreDistribution = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0 };\n        return;\n      }\n\n      // 初始化计数器\n      const scoreCounts = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0 };\n      let totalScore = 0;\n\n      // 计算每个评分的数量和总分\n      this.allcomments.forEach(comment => {\n        if (comment.score >= 1 && comment.score <= 5) {\n          scoreCounts[comment.score]++;\n          totalScore += comment.score;\n        }\n      });\n\n      // 计算平均分\n      this.averageScore = totalScore / this.allcomments.length;\n\n      // 计算每个评分的百分比\n      const total = this.allcomments.length;\n      for (let i = 1; i <= 5; i++) {\n        this.scoreDistribution[i] = Math.round((scoreCounts[i] / total) * 100);\n      }\n    },\n\n    renderWordCloud() {\n      if (!this.keywords || this.keywords.length === 0 || !this.$refs.wordCloud) return;\n\n      const container = this.$refs.wordCloud;\n      container.innerHTML = '';\n\n      // 设置字体大小范围\n      const maxFontSize = 42;\n      const minFontSize = 14;\n\n      // 找出最大和最小权重值\n      const values = this.keywords.map(item => item.value);\n      const maxValue = Math.max(...values);\n      const minValue = Math.min(...values);\n\n      // 定义一组美观的颜色\n      const colors = [\n        '#3a7bd5', '#00d2ff', '#11998e', '#38ef7d',\n        '#a8ff78', '#f857a6', '#ff5858', '#fcb045',\n        '#7b4397', '#dc2430', '#4568dc', '#b06ab3'\n      ];\n\n      this.keywords.forEach(keyword => {\n        const span = document.createElement('span');\n        span.className = 'keyword';\n        span.textContent = keyword.text;\n\n        // 计算字体大小\n        const fontSize = minValue === maxValue\n            ? (maxFontSize + minFontSize) / 2\n            : minFontSize + (keyword.value - minValue) / (maxValue - minValue) * (maxFontSize - minFontSize);\n\n        // 随机选择颜色\n        const color = colors[Math.floor(Math.random() * colors.length)];\n\n        // 设置样式\n        span.style.fontSize = `${fontSize}px`;\n        span.style.color = color;\n        span.style.fontWeight = Math.floor(fontSize / 5) * 100;\n        span.style.opacity = 0.9 - (0.3 * (fontSize - minFontSize) / (maxFontSize - minFontSize));\n        span.style.transition = 'all 0.3s ease';\n\n        // 鼠标悬停效果\n        span.onmouseenter = () => {\n          span.style.backgroundColor = '#f5f7fa';\n          span.style.opacity = '1';\n        };\n        span.onmouseleave = () => {\n          span.style.backgroundColor = 'transparent';\n        };\n\n        container.appendChild(span);\n      });\n    },\n\n    resizeWordCloud() {\n      this.renderWordCloud();\n    },\n\n    getScoreColor(score) {\n      if (score >= 4.5) return '#67C23A'; // 绿色 - 优秀\n      if (score >= 4) return '#85CE61';   // 浅绿色 - 良好\n      if (score >= 3) return '#E6A23C';   // 黄色 - 一般\n      if (score >= 2) return '#F56C6C';   // 红色 - 较差\n      return '#F56C6C';                   // 深红色 - 很差\n    },\n\n    exportKeywords() {\n      // 将关键词转换为CSV格式\n      const csvContent = \"data:text/csv;charset=utf-8,\"\n          + \"关键词,频率\\n\"\n          + this.keywords.map(k => `${k.text},${k.value}`).join(\"\\n\");\n\n      // 创建下载链接\n      const encodedUri = encodeURI(csvContent);\n      const link = document.createElement(\"a\");\n      link.setAttribute(\"href\", encodedUri);\n      link.setAttribute(\"download\", `商品_${this.productId}_关键词.csv`);\n      document.body.appendChild(link);\n\n      // 触发下载\n      link.click();\n      document.body.removeChild(link);\n\n      this.$message.success(this.$t('analysis.exportKeywordsSuccess'));\n    },\n\n    async analyzeSentiment() {\n      if (this.comments.length === 0) {\n        this.$message.warning(this.$t('analysis.noCommentsWarning'));\n        return;\n      }\n\n      this.isAnalyzing = true;\n      this.showSentimentLegend = true;\n\n      try {\n        const response = await axios.post(`/comments/sentiment/${this.productId}`, {\n          comments: this.comments.map(comment => ({\n            id: comment.id,\n            content: comment.content\n          }))\n        });\n\n        if (response.data.code === '0') {\n          const sentimentResults = response.data.data;\n          // 更新评论的情感分数\n          this.comments = this.comments.map(comment => {\n            const sentimentScore = sentimentResults[comment.id];\n            return {\n              ...comment,\n              sentimentScore: sentimentScore !== undefined ? sentimentScore : 0.5\n            };\n          });\n          this.$message.success(this.$t('analysis.sentimentAnalysisSuccess'));\n        } else {\n          this.$message.error(response.data.msg || this.$t('analysis.sentimentAnalysisFailed'));\n        }\n      } catch (error) {\n        console.error('情感分析失败:', error);\n        this.$message.error(this.$t('analysis.sentimentAnalysisFailed') + ': ' + (error.response?.data?.msg || error.message));\n      } finally {\n        this.isAnalyzing = false;\n      }\n    },\n\n    getSentimentStyle(score) {\n      // 根据情感分数返回对应的背景色\n      if (score >= 0.6) {\n        return { backgroundColor: 'rgba(103, 194, 58, 0.1)' }; // 积极 - 浅绿色\n      } else if (score >= 0.4) {\n        return { backgroundColor: 'rgba(230, 162, 60, 0.1)' }; // 中性 - 浅黄色\n      } else {\n        return { backgroundColor: 'rgba(245, 108, 108, 0.1)' }; // 消极 - 浅红色\n      }\n    },\n\n    async translateComment(comment) {\n      if (!comment.content) return;\n      \n      try {\n        const response = await axios.post('/api/translate', {\n          text: comment.content,\n          targetLang: 'en'\n        });\n\n        if (response.data && response.data.code === '0') {\n          // 使用 Vue.set 确保响应式更新\n          this.$set(comment, 'translatedContent', response.data.data);\n          this.$set(comment, 'showOriginal', false);\n        } else {\n          this.$message.error(response.data.msg || this.$t('analysis.translateFailed'));\n        }\n      } catch (error) {\n        console.error('翻译失败:', error);\n        this.$message.error(this.$t('analysis.translateFailed'));\n      }\n    },\n\n    async translateAllComments() {\n      for (const comment of this.comments) {\n        if (!comment.translatedContent) {\n          await this.translateComment(comment);\n        }\n      }\n    },\n\n    toggleOriginalContent(comment) {\n      this.$set(comment, 'showOriginal', !comment.showOriginal);\n    },\n  }\n};\n</script>\n\n<style scoped>\n.analysis-container {\n  padding: 20px;\n  background-color: #f5f7fa;\n  min-height: 100vh;\n}\n\n.header-area {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n  padding: 0 10px;\n}\n\n.back-button {\n  cursor: pointer;\n  color: #409EFF;\n  font-size: 14px;\n  margin-right: 20px;\n  transition: color 0.3s;\n}\n\n.back-button:hover {\n  color: #66b1ff;\n}\n\n.product-title {\n  flex: 1;\n  margin: 0;\n  font-size: 20px;\n  color: #303133;\n  font-weight: 500;\n}\n\n.action-buttons {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.sentiment-button {\n  cursor: pointer;\n  color: #409EFF;\n  font-size: 14px;\n  transition: color 0.3s;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.sentiment-button:hover {\n  color: #66b1ff;\n}\n\n.refresh-button, .loading-indicator {\n  cursor: pointer;\n  color: #409EFF;\n  font-size: 14px;\n  transition: color 0.3s;\n}\n\n.refresh-button:hover {\n  color: #66b1ff;\n}\n\n.loading-indicator i {\n  animation: rotating 2s linear infinite;\n}\n\n@keyframes rotating {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n\n.main-content {\n  margin-bottom: 20px;\n}\n\n.comment-card, .analysis-card {\n  margin-bottom: 20px;\n  border-radius: 12px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\n  transition: all 0.3s;\n}\n\n.comment-card:hover, .analysis-card:hover {\n  box-shadow: 0 2px 16px 0 rgba(0, 0, 0, 0.1);\n}\n\n.comment-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  border-bottom: 1px solid #f0f2f5;\n}\n\n.comment-filter {\n  display: flex;\n  align-items: center;\n}\n\n.search-input {\n  width: 200px;\n  margin-left: 10px;\n  transition: width 0.3s;\n}\n\n.search-input:focus-within {\n  width: 250px;\n}\n\n.empty-comments, .empty-keywords {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 50px 0;\n  color: #909399;\n}\n\n.empty-icon {\n  font-size: 48px;\n  margin-bottom: 15px;\n  opacity: 0.6;\n}\n\n.comment-list {\n  max-height: 600px;\n  overflow-y: auto;\n  padding: 0 10px;\n}\n\n.comment-item {\n  position: relative;\n  transition: background-color 0.3s;\n  background-color: #ffffff;\n  border-radius: 4px;\n  padding: 15px;\n  margin-bottom: 10px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.comment-item:hover {\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\n}\n\n.comment-item.has-sentiment {\n  border-radius: 4px;\n  padding: 15px;\n}\n\n.comment-user {\n  display: flex;\n  align-items: center;\n  margin-bottom: 5px;\n}\n\n.comment-user i {\n  font-size: 16px;\n  color: #909399;\n}\n\n.username {\n  margin-left: 8px;\n  font-weight: 500;\n  color: #606266;\n}\n\n.score-display {\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n}\n\n.score-display i {\n  margin-right: 2px;\n}\n\n.score-text {\n  margin-left: 8px;\n  color: #909399;\n  font-size: 13px;\n}\n\n.comment-content {\n  position: relative;\n  line-height: 1.6;\n  color: #303133;\n  margin-bottom: 8px;\n  word-break: break-word;\n}\n\n.translate-button {\n  display: inline-block;\n  margin-left: 10px;\n  color: #409EFF;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.translate-button:hover {\n  color: #66b1ff;\n}\n\n.original-content {\n  display: inline-block;\n  margin-left: 10px;\n  color: #409EFF;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.original-content:hover {\n  color: #66b1ff;\n}\n\n.comment-time {\n  font-size: 12px;\n  color: #909399;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  text-align: center;\n  padding: 10px 0;\n}\n\n/* 评分统计卡片 */\n.score-card .card-header {\n  border-bottom: 1px solid #f0f2f5;\n}\n\n.score-summary {\n  display: flex;\n  padding: 20px 10px;\n}\n\n.average-score {\n  width: 100px;\n  font-size: 36px;\n  font-weight: bold;\n  text-align: center;\n  margin-right: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.score-label {\n  display: block;\n  font-size: 14px;\n  font-weight: normal;\n  color: #909399;\n  margin-top: 5px;\n}\n\n.score-bars {\n  flex: 1;\n}\n\n.score-bar-item {\n  display: flex;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.score-bar-container {\n  flex: 1;\n  height: 10px;\n  background-color: #ebeef5;\n  border-radius: 5px;\n  overflow: hidden;\n  margin: 0 10px;\n}\n\n.score-bar {\n  height: 100%;\n  border-radius: 5px;\n  transition: width 0.6s ease;\n}\n\n.score-percentage {\n  width: 40px;\n  text-align: right;\n  font-size: 13px;\n  color: #606266;\n}\n\n/* 词云卡片 */\n.word-cloud-card {\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  transition: all 0.3s ease;\n}\n\n.word-cloud-card:hover {\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  border-bottom: 1px solid #f0f2f5;\n}\n\n.card-header .el-icon-info {\n  color: #909399;\n  cursor: pointer;\n  font-size: 16px;\n  transition: color 0.3s;\n}\n\n.card-header .el-icon-info:hover {\n  color: #409EFF;\n}\n\n.word-cloud-container {\n  height: 300px;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #f9fafc 0%, #f0f2f5 100%);\n  border-radius: 8px;\n  margin: 10px;\n  overflow: hidden;\n}\n\n.word-cloud {\n  width: 90%;\n  height: 90%;\n  text-align: center;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  padding: 15px;\n  position: relative;\n}\n\n.keyword {\n  cursor: pointer;\n  transition: all 0.3s ease;\n  margin: 5px;\n  padding: 3px 8px;\n  border-radius: 4px;\n  display: inline-block;\n  font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;\n  text-shadow: 1px 1px 2px rgba(0,0,0,0.1);\n}\n\n.keyword:hover {\n  transform: scale(1.15);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  z-index: 10;\n}\n\n.empty-keywords {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: #c0c4cc;\n  height: 100%;\n}\n\n.empty-icon {\n  font-size: 48px;\n  margin-bottom: 15px;\n  opacity: 0.6;\n}\n\n.word-cloud-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 16px;\n  border-top: 1px solid #f0f2f5;\n  font-size: 12px;\n  color: #909399;\n}\n\n.word-cloud-footer .el-button {\n  padding: 0;\n}\n\n.sentiment-legend {\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n  padding: 10px;\n  margin-bottom: 15px;\n  background-color: #f5f7fa;\n  border-radius: 4px;\n}\n\n.legend-item {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  font-size: 12px;\n  color: #606266;\n}\n\n.color-block {\n  width: 20px;\n  height: 20px;\n  border-radius: 4px;\n}\n\n.color-block.positive {\n  background-color: rgba(103, 194, 58, 0.1);\n}\n\n.color-block.neutral {\n  background-color: rgba(230, 162, 60, 0.1);\n}\n\n.color-block.negative {\n  background-color: rgba(245, 108, 108, 0.1);\n}\n\n.sentiment-score {\n  margin-left: 10px;\n  font-size: 12px;\n  color: #909399;\n}\n</style>"],"mappings":"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","ignoreList":[]}]}