{"remainingRequest":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\src\\utils\\request.js","dependencies":[{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\src\\utils\\request.js","mtime":1746972875058},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\babel.config.js","mtime":1746756434702},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746972278158},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1746972279218},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\eslint-loader\\index.js","mtime":1746972278434}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpjb25zdCByZXF1ZXN0ID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJywKICAvLyDlkI7nq6/mjqXlj6PlnLDlnYAKICB0aW1lb3V0OiA1MDAwIC8vIOivt+axgui2heaXtuaXtumXtAp9KTsKCi8vIOivt+axguaLpuaIquWZqApyZXF1ZXN0LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShjb25maWcgPT4gewogIC8vIOS7jnNlc3Npb25TdG9yYWdl6I635Y+WdG9rZW4KICBjb25zdCB1c2VyID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykgfHwgJ3t9Jyk7CiAgaWYgKHVzZXIudG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzWyd0b2tlbiddID0gdXNlci50b2tlbjsKICB9CiAgcmV0dXJuIGNvbmZpZzsKfSwgZXJyb3IgPT4gewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8g5ZON5bqU5oum5oiq5ZmoCnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7CiAgY29uc3QgcmVzID0gcmVzcG9uc2UuZGF0YTsKICAvLyDlpoLmnpzov5Tlm57nmoTnirbmgIHnoIHkuI3mmK8w77yM6K+05piO5o6l5Y+j6K+35rGC5pyJ6K+vCiAgaWYgKHJlcy5jb2RlICE9PSAnMCcpIHsKICAgIC8vIDQwMTog5pyq55m75b2V5oiWdG9rZW7ov4fmnJ8KICAgIGlmIChyZXMuY29kZSA9PT0gJzQwMScpIHsKICAgICAgLy8g5riF6Zmk55So5oi35L+h5oGvCiAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTsKICAgICAgLy8g6Lez6L2s5Yiw55m75b2V6aG1CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7CiAgICB9CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKHJlcy5tc2cgfHwgJ0Vycm9yJykpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzOwogIH0KfSwgZXJyb3IgPT4gewogIGNvbnNvbGUubG9nKCdlcnInICsgZXJyb3IpOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCByZXF1ZXN0Ow=="},{"version":3,"names":["axios","request","create","baseURL","timeout","interceptors","use","config","user","JSON","parse","sessionStorage","getItem","token","headers","error","Promise","reject","response","res","data","code","removeItem","window","location","href","Error","msg","console","log"],"sources":["D:/学习资料/软件工程/demo2/CommentAnalysor_frontend/vue/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst request = axios.create({\r\n    baseURL: 'http://localhost:8080',  // 后端接口地址\r\n    timeout: 5000  // 请求超时时间\r\n})\r\n\r\n// 请求拦截器\r\nrequest.interceptors.request.use(config => {\r\n    // 从sessionStorage获取token\r\n    const user = JSON.parse(sessionStorage.getItem('user') || '{}')\r\n    if (user.token) {\r\n        config.headers['token'] = user.token\r\n    }\r\n    return config\r\n}, error => {\r\n    return Promise.reject(error)\r\n})\r\n\r\n// 响应拦截器\r\nrequest.interceptors.response.use(\r\n    response => {\r\n        const res = response.data\r\n        // 如果返回的状态码不是0，说明接口请求有误\r\n        if (res.code !== '0') {\r\n            // 401: 未登录或token过期\r\n            if (res.code === '401') {\r\n                // 清除用户信息\r\n                sessionStorage.removeItem('user')\r\n                // 跳转到登录页\r\n                window.location.href = '/login'\r\n            }\r\n            return Promise.reject(new Error(res.msg || 'Error'))\r\n        } else {\r\n            return res\r\n        }\r\n    },\r\n    error => {\r\n        console.log('err' + error)\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\nexport default request"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGD,KAAK,CAACE,MAAM,CAAC;EACzBC,OAAO,EAAE,uBAAuB;EAAG;EACnCC,OAAO,EAAE,IAAI,CAAE;AACnB,CAAC,CAAC;;AAEF;AACAH,OAAO,CAACI,YAAY,CAACJ,OAAO,CAACK,GAAG,CAACC,MAAM,IAAI;EACvC;EACA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;EAC/D,IAAIJ,IAAI,CAACK,KAAK,EAAE;IACZN,MAAM,CAACO,OAAO,CAAC,OAAO,CAAC,GAAGN,IAAI,CAACK,KAAK;EACxC;EACA,OAAON,MAAM;AACjB,CAAC,EAAEQ,KAAK,IAAI;EACR,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;;AAEF;AACAd,OAAO,CAACI,YAAY,CAACa,QAAQ,CAACZ,GAAG,CAC7BY,QAAQ,IAAI;EACR,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAI;EACzB;EACA,IAAID,GAAG,CAACE,IAAI,KAAK,GAAG,EAAE;IAClB;IACA,IAAIF,GAAG,CAACE,IAAI,KAAK,KAAK,EAAE;MACpB;MACAV,cAAc,CAACW,UAAU,CAAC,MAAM,CAAC;MACjC;MACAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;IACnC;IACA,OAAOT,OAAO,CAACC,MAAM,CAAC,IAAIS,KAAK,CAACP,GAAG,CAACQ,GAAG,IAAI,OAAO,CAAC,CAAC;EACxD,CAAC,MAAM;IACH,OAAOR,GAAG;EACd;AACJ,CAAC,EACDJ,KAAK,IAAI;EACLa,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGd,KAAK,CAAC;EAC1B,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CACJ,CAAC;AAED,eAAed,OAAO","ignoreList":[]}]}