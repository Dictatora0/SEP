{"remainingRequest":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\src\\views\\admin\\Dashboard.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\src\\views\\admin\\Dashboard.vue","mtime":1746964290964},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\babel.config.js","mtime":1746756434702},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746972278158},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1746972279218},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1746972278158},{"path":"D:\\学习资料\\软件工程\\demo2\\CommentAnalysor_frontend\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1746972279591}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgVkNoYXJ0IGZyb20gJ3Z1ZS1lY2hhcnRzJzsKaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEYXNoYm9hcmQnLAogIGNvbXBvbmVudHM6IHsKICAgIFZDaGFydAogIH0sCiAgZGF0YSgpIHsKICAgIGNvbnNvbGUubG9nKCdEYXNoYm9hcmQgZGF0YSBpbml0aWFsaXplZCcpOwogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHNlbGVjdGVkUHJvZHVjdDogJycsCiAgICAgIHRyZW5kVGltZVJhbmdlOiAnd2VlaycsCiAgICAgIHF1YWxpdHlNZXRyaWM6ICdsZW5ndGgnLAogICAgICBwcm9kdWN0TGlzdDogW10sCiAgICAgIHJlY2VudENvbW1lbnRzOiBbXSwKICAgICAga2V5d29yZE9wdGlvbnM6IHsKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycsCiAgICAgICAgICBheGlzUG9pbnRlcjogewogICAgICAgICAgICB0eXBlOiAnc2hhZG93JwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ3JpZDogewogICAgICAgICAgbGVmdDogJzMlJywKICAgICAgICAgIHJpZ2h0OiAnNCUnLAogICAgICAgICAgYm90dG9tOiAnMyUnLAogICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB4QXhpczogewogICAgICAgICAgdHlwZTogJ3ZhbHVlJwogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsCiAgICAgICAgICBkYXRhOiBbXQogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgbmFtZTogJ+WHuueOsOmikeasoScsCiAgICAgICAgICB0eXBlOiAnYmFyJywKICAgICAgICAgIGRhdGE6IFtdCiAgICAgICAgfV0KICAgICAgfSwKICAgICAga2V5d29yZFRyZW5kT3B0aW9uczogewogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHRyaWdnZXI6ICdheGlzJwogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBkYXRhOiBbXQogICAgICAgIH0sCiAgICAgICAgZ3JpZDogewogICAgICAgICAgbGVmdDogJzMlJywKICAgICAgICAgIHJpZ2h0OiAnNCUnLAogICAgICAgICAgYm90dG9tOiAnMyUnLAogICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB4QXhpczogewogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywKICAgICAgICAgIGJvdW5kYXJ5R2FwOiBmYWxzZSwKICAgICAgICAgIGRhdGE6IFtdCiAgICAgICAgfSwKICAgICAgICB5QXhpczogewogICAgICAgICAgdHlwZTogJ3ZhbHVlJwogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbXQogICAgICB9LAogICAgICBxdWFsaXR5T3B0aW9uczogewogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHRyaWdnZXI6ICdpdGVtJwogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBvcmllbnQ6ICd2ZXJ0aWNhbCcsCiAgICAgICAgICByaWdodDogMTAsCiAgICAgICAgICB0b3A6ICdjZW50ZXInCiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgIHJhZGl1czogWyc1MCUnLCAnNzAlJ10sCiAgICAgICAgICBhdm9pZExhYmVsT3ZlcmxhcDogZmFsc2UsCiAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgfSwKICAgICAgICAgIGVtcGhhc2lzOiB7CiAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICBmb250U2l6ZTogJzIwJywKICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IFtdCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnRGFzaGJvYXJkIGNyZWF0ZWQnKTsKICAgIC8vIOWIneWni+WMliBlY2hhcnRzCiAgICBlY2hhcnRzLmluaXQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpOwogICAgdGhpcy5sb2FkUHJvZHVjdExpc3QoKTsKICAgIHRoaXMubG9hZERhc2hib2FyZERhdGEoKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnRGFzaGJvYXJkIG1vdW50ZWQnKTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBjb25zb2xlLmxvZygnRGFzaGJvYXJkIGJlZm9yZURlc3Ryb3knKTsKICB9LAogIHdhdGNoOiB7CiAgICBzZWxlY3RlZFByb2R1Y3QoKSB7CiAgICAgIHRoaXMubG9hZEtleXdvcmREYXRhKCk7CiAgICAgIHRoaXMubG9hZEtleXdvcmRUcmVuZCgpOwogICAgICB0aGlzLmxvYWRRdWFsaXR5RGF0YSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgbG9hZFByb2R1Y3RMaXN0KCkgewogICAgICB0cnkgewogICAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vliqDovb3llYblk4HliJfooagnKTsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnL3Byb2R1Y3RzL2xpc3QnKTsKICAgICAgICBjb25zb2xlLmxvZygn5ZWG5ZOB5YiX6KGo5ZON5bqUOicsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09ICcwJykgewogICAgICAgICAgdGhpcy5wcm9kdWN0TGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIGNvbnNvbGUubG9nKCfllYblk4HliJfooajliqDovb3miJDlip86JywgdGhpcy5wcm9kdWN0TGlzdCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WVhuWTgeWIl+ihqOWKoOi9veWksei0pTonLCByZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yqg6L295ZWG5ZOB5YiX6KGo5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliqDovb3llYblk4HliJfooajlpLHotKU6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGxvYWREYXNoYm9hcmREYXRhKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vliqDovb3ku6rooajnm5jmlbDmja4nKTsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnL2FkbWluL3JlY2VudC1jb21tZW50cycpOwogICAgICAgIGNvbnNvbGUubG9nKCfmnIDmlrDor4TorrrmlbDmja46JywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICB0aGlzLnJlY2VudENvbW1lbnRzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgIH0KICAgICAgICBhd2FpdCB0aGlzLmxvYWRLZXl3b3JkRGF0YSgpOwogICAgICAgIGF3YWl0IHRoaXMubG9hZEtleXdvcmRUcmVuZCgpOwogICAgICAgIGF3YWl0IHRoaXMubG9hZFF1YWxpdHlEYXRhKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yqg6L295Luq6KGo55uY5pWw5o2u5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliqDovb3ku6rooajnm5jmlbDmja7lpLHotKU6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGxvYWRLZXl3b3JkRGF0YSgpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zb2xlLmxvZygn5byA5aeL5Yqg6L295YWz6ZSu6K+N5YiG5p6Q5pWw5o2uJyk7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJy9hZG1pbi9rZXl3b3JkLWFuYWx5c2lzJywgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHByb2R1Y3RJZDogdGhpcy5zZWxlY3RlZFByb2R1Y3QKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygn5YWz6ZSu6K+N5YiG5p6Q5pWw5o2uOicsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09ICcwJykgewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICBrZXl3b3JkcywKICAgICAgICAgICAgZnJlcXVlbmNpZXMKICAgICAgICAgIH0gPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICB0aGlzLmtleXdvcmRPcHRpb25zLnlBeGlzLmRhdGEgPSBrZXl3b3JkczsKICAgICAgICAgIHRoaXMua2V5d29yZE9wdGlvbnMuc2VyaWVzWzBdLmRhdGEgPSBmcmVxdWVuY2llczsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yqg6L295YWz6ZSu6K+N5YiG5p6Q5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliqDovb3lhbPplK7or43liIbmnpDlpLHotKU6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGxvYWRLZXl3b3JkVHJlbmQoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc29sZS5sb2coJ+W8gOWni+WKoOi9veWFs+mUruivjei2i+WKv+aVsOaNricpOwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCcvYWRtaW4va2V5d29yZC10cmVuZCcsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICB0aW1lUmFuZ2U6IHRoaXMudHJlbmRUaW1lUmFuZ2UsCiAgICAgICAgICAgIHByb2R1Y3RJZDogdGhpcy5zZWxlY3RlZFByb2R1Y3QKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygn5YWz6ZSu6K+N6LaL5Yq/5pWw5o2uOicsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09ICcwJykgewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICBkYXRlcywKICAgICAgICAgICAga2V5d29yZHMsCiAgICAgICAgICAgIHRyZW5kcwogICAgICAgICAgfSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIHRoaXMua2V5d29yZFRyZW5kT3B0aW9ucy54QXhpcy5kYXRhID0gZGF0ZXM7CiAgICAgICAgICB0aGlzLmtleXdvcmRUcmVuZE9wdGlvbnMubGVnZW5kLmRhdGEgPSBrZXl3b3JkczsKICAgICAgICAgIHRoaXMua2V5d29yZFRyZW5kT3B0aW9ucy5zZXJpZXMgPSBrZXl3b3Jkcy5tYXAoa2V5d29yZCA9PiAoewogICAgICAgICAgICBuYW1lOiBrZXl3b3JkLAogICAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICAgIHNtb290aDogdHJ1ZSwKICAgICAgICAgICAgZGF0YTogdHJlbmRzW2tleXdvcmRdCiAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9veWFs+mUruivjei2i+WKv+Wksei0pTonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Yqg6L295YWz6ZSu6K+N6LaL5Yq/5aSx6LSlOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBsb2FkUXVhbGl0eURhdGEoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc29sZS5sb2coJ+W8gOWni+WKoOi9vei0qOmHj+WIhuaekOaVsOaNricpOwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KCcvYWRtaW4vcXVhbGl0eS1hbmFseXNpcycsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBtZXRyaWM6IHRoaXMucXVhbGl0eU1ldHJpYywKICAgICAgICAgICAgcHJvZHVjdElkOiB0aGlzLnNlbGVjdGVkUHJvZHVjdAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKCfotKjph4/liIbmnpDmlbDmja46JywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gJzAnKSB7CiAgICAgICAgICB0aGlzLnF1YWxpdHlPcHRpb25zLnNlcmllc1swXS5kYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3otKjph4/liIbmnpDlpLHotKU6JywgZXJyb3IpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WKoOi9vei0qOmHj+WIhuaekOWksei0pTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["axios","VChart","echarts","name","components","data","console","log","loading","selectedProduct","trendTimeRange","qualityMetric","productList","recentComments","keywordOptions","tooltip","trigger","axisPointer","type","grid","left","right","bottom","containLabel","xAxis","yAxis","series","keywordTrendOptions","legend","boundaryGap","qualityOptions","orient","top","radius","avoidLabelOverlap","label","show","emphasis","fontSize","fontWeight","created","init","document","createElement","loadProductList","loadDashboardData","mounted","beforeDestroy","watch","loadKeywordData","loadKeywordTrend","loadQualityData","methods","response","get","code","error","$message","message","params","productId","keywords","frequencies","timeRange","dates","trends","map","keyword","smooth","metric"],"sources":["src/views/admin/Dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard\">\r\n    <div v-if=\"loading\" class=\"loading-container\">\r\n      <el-loading :fullscreen=\"true\" text=\"加载中...\"></el-loading>\r\n    </div>\r\n    \r\n    <div v-else>\r\n      <!-- 关键词分析卡片 -->\r\n      <el-row :gutter=\"20\" class=\"data-overview\">\r\n        <el-col :span=\"12\">\r\n          <el-card shadow=\"hover\" class=\"data-card\">\r\n            <div slot=\"header\" class=\"card-header\">\r\n              <span>热门关键词</span>\r\n              <el-select v-model=\"selectedProduct\" placeholder=\"选择商品\" clearable @change=\"loadKeywordData\">\r\n                <el-option\r\n                  v-for=\"item in productList\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div class=\"chart-container\">\r\n              <v-chart :options=\"keywordOptions\" autoresize />\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <el-card shadow=\"hover\" class=\"data-card\">\r\n            <div slot=\"header\" class=\"card-header\">\r\n              <span>关键词趋势</span>\r\n              <el-radio-group v-model=\"trendTimeRange\" size=\"small\" @change=\"loadKeywordTrend\">\r\n                <el-radio-button label=\"week\">本周</el-radio-button>\r\n                <el-radio-button label=\"month\">本月</el-radio-button>\r\n              </el-radio-group>\r\n            </div>\r\n            <div class=\"chart-container\">\r\n              <v-chart :options=\"keywordTrendOptions\" autoresize />\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!-- 评论质量分析 -->\r\n      <el-row :gutter=\"20\" class=\"chart-row\">\r\n        <el-col :span=\"24\">\r\n          <el-card class=\"chart-card\">\r\n            <div slot=\"header\" class=\"card-header\">\r\n              <span>评论质量分析</span>\r\n              <div class=\"header-actions\">\r\n                <el-select v-model=\"qualityMetric\" placeholder=\"选择指标\" @change=\"loadQualityData\">\r\n                  <el-option label=\"评论长度分布\" value=\"length\"></el-option>\r\n                  <el-option label=\"评论情感分布\" value=\"sentiment\"></el-option>\r\n                  <el-option label=\"评论时效性\" value=\"timeliness\"></el-option>\r\n                </el-select>\r\n              </div>\r\n            </div>\r\n            <div class=\"chart-container\">\r\n              <v-chart :options=\"qualityOptions\" autoresize />\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!-- 最新评论 -->\r\n      <el-card class=\"recent-comments\">\r\n        <div slot=\"header\" class=\"recent-header\">\r\n          <span>最新评论</span>\r\n          <el-button type=\"text\" @click=\"$router.push('/admin/comments')\">查看更多</el-button>\r\n        </div>\r\n        <el-table :data=\"recentComments\" style=\"width: 100%\" v-loading=\"loading\">\r\n          <el-table-column prop=\"content\" label=\"评论内容\" min-width=\"300\" show-overflow-tooltip>\r\n            <template slot-scope=\"scope\">\r\n              <div class=\"comment-content\">\r\n                <span>{{ scope.row.content }}</span>\r\n                <el-tag size=\"mini\" type=\"info\" v-if=\"scope.row.keywords\">\r\n                  {{ scope.row.keywords.join(', ') }}\r\n                </el-tag>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"productName\" label=\"商品\" width=\"150\"></el-table-column>\r\n          <el-table-column prop=\"createTime\" label=\"时间\" width=\"180\"></el-table-column>\r\n        </el-table>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport VChart from 'vue-echarts';\r\nimport * as echarts from 'echarts';\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  components: {\r\n    VChart\r\n  },\r\n  data() {\r\n    console.log('Dashboard data initialized');\r\n    return {\r\n      loading: false,\r\n      selectedProduct: '',\r\n      trendTimeRange: 'week',\r\n      qualityMetric: 'length',\r\n      productList: [],\r\n      recentComments: [],\r\n      keywordOptions: {\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'value'\r\n        },\r\n        yAxis: {\r\n          type: 'category',\r\n          data: []\r\n        },\r\n        series: [{\r\n          name: '出现频次',\r\n          type: 'bar',\r\n          data: []\r\n        }]\r\n      },\r\n      keywordTrendOptions: {\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        legend: {\r\n          data: []\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          boundaryGap: false,\r\n          data: []\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: []\r\n      },\r\n      qualityOptions: {\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          right: 10,\r\n          top: 'center'\r\n        },\r\n        series: [{\r\n          type: 'pie',\r\n          radius: ['50%', '70%'],\r\n          avoidLabelOverlap: false,\r\n          label: {\r\n            show: false\r\n          },\r\n          emphasis: {\r\n            label: {\r\n              show: true,\r\n              fontSize: '20',\r\n              fontWeight: 'bold'\r\n            }\r\n          },\r\n          data: []\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    console.log('Dashboard created');\r\n    // 初始化 echarts\r\n    echarts.init(document.createElement('div'));\r\n    this.loadProductList();\r\n    this.loadDashboardData();\r\n  },\r\n  mounted() {\r\n    console.log('Dashboard mounted');\r\n  },\r\n  beforeDestroy() {\r\n    console.log('Dashboard beforeDestroy');\r\n  },\r\n  watch: {\r\n    selectedProduct() {\r\n      this.loadKeywordData();\r\n      this.loadKeywordTrend();\r\n      this.loadQualityData();\r\n    }\r\n  },\r\n  methods: {\r\n    async loadProductList() {\r\n      try {\r\n        console.log('开始加载商品列表');\r\n        const response = await axios.get('/products/list');\r\n        console.log('商品列表响应:', response.data);\r\n        if (response.data.code === '0') {\r\n          this.productList = response.data.data;\r\n          console.log('商品列表加载成功:', this.productList);\r\n        } else {\r\n          console.error('商品列表加载失败:', response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('加载商品列表失败:', error);\r\n        this.$message.error('加载商品列表失败: ' + error.message);\r\n      }\r\n    },\r\n    async loadDashboardData() {\r\n      this.loading = true;\r\n      try {\r\n        console.log('开始加载仪表盘数据');\r\n        \r\n        const response = await axios.get('/admin/recent-comments');\r\n        console.log('最新评论数据:', response.data);\r\n        if (response.data.code === '0') {\r\n          this.recentComments = response.data.data;\r\n        }\r\n\r\n        await this.loadKeywordData();\r\n        await this.loadKeywordTrend();\r\n        await this.loadQualityData();\r\n      } catch (error) {\r\n        console.error('加载仪表盘数据失败:', error);\r\n        this.$message.error('加载仪表盘数据失败: ' + error.message);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async loadKeywordData() {\r\n      try {\r\n        console.log('开始加载关键词分析数据');\r\n        const response = await axios.get('/admin/keyword-analysis', {\r\n          params: { productId: this.selectedProduct }\r\n        });\r\n        console.log('关键词分析数据:', response.data);\r\n        if (response.data.code === '0') {\r\n          const { keywords, frequencies } = response.data.data;\r\n          this.keywordOptions.yAxis.data = keywords;\r\n          this.keywordOptions.series[0].data = frequencies;\r\n        }\r\n      } catch (error) {\r\n        console.error('加载关键词分析失败:', error);\r\n        this.$message.error('加载关键词分析失败: ' + error.message);\r\n      }\r\n    },\r\n    async loadKeywordTrend() {\r\n      try {\r\n        console.log('开始加载关键词趋势数据');\r\n        const response = await axios.get('/admin/keyword-trend', {\r\n          params: { \r\n            timeRange: this.trendTimeRange,\r\n            productId: this.selectedProduct\r\n          }\r\n        });\r\n        console.log('关键词趋势数据:', response.data);\r\n        if (response.data.code === '0') {\r\n          const { dates, keywords, trends } = response.data.data;\r\n          this.keywordTrendOptions.xAxis.data = dates;\r\n          this.keywordTrendOptions.legend.data = keywords;\r\n          this.keywordTrendOptions.series = keywords.map(keyword => ({\r\n            name: keyword,\r\n            type: 'line',\r\n            smooth: true,\r\n            data: trends[keyword]\r\n          }));\r\n        }\r\n      } catch (error) {\r\n        console.error('加载关键词趋势失败:', error);\r\n        this.$message.error('加载关键词趋势失败: ' + error.message);\r\n      }\r\n    },\r\n    async loadQualityData() {\r\n      try {\r\n        console.log('开始加载质量分析数据');\r\n        const response = await axios.get('/admin/quality-analysis', {\r\n          params: { \r\n            metric: this.qualityMetric,\r\n            productId: this.selectedProduct\r\n          }\r\n        });\r\n        console.log('质量分析数据:', response.data);\r\n        if (response.data.code === '0') {\r\n          this.qualityOptions.series[0].data = response.data.data;\r\n        }\r\n      } catch (error) {\r\n        console.error('加载质量分析失败:', error);\r\n        this.$message.error('加载质量分析失败: ' + error.message);\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard {\r\n  padding: 20px;\r\n  height: 100%;\r\n}\r\n\r\n.data-overview {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.header-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.chart-container {\r\n  height: 400px;\r\n  width: 100%;\r\n}\r\n\r\n.chart-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.recent-comments {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.recent-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.comment-content {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.el-tag {\r\n  margin-left: 8px;\r\n}\r\n\r\n.el-card {\r\n  height: 100%;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-card__body {\r\n  height: calc(100% - 55px);\r\n  padding: 20px;\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]}]}